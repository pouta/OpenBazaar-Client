<div class="mainContainer custCol-background">
  <div class="banner-large js-userPageBanner custCol-secondary"
  style="background-image: url(<%- ob.page.headerURL %>), url(imgs/defaultBanner.png);">
  </div>

  <div id="image-cropper" class="headerCropper banner-large js-pageCustomizationButtons js-headerCropper">
    <div class="headerCropperPreview banner-large cropit-image-preview js-pageCustomizationButtons"></div>
    <div class="statusBar navBar fadeOut positionAbsolute js-headerLoading">
      <div class="pad20 rowTop20 width100"><h2 class="txt-center">Loading Image...</h2></div>
    </div>
    <input type="range" class="cropit-image-zoom-input hCentered rowTop20 js-bannerRangeInput hide" />
    <label for="headerImageInput" class="btn btn-c1 btn-txt rowTop20 fullCentered js-pageCustomizationButtons"><%= polyglot.t('UploadCoverPhoto') %> (959px x 400px)</label>
    <input id="headerImageInput" type="file" class="cropit-image-input hide" />
    <div class="bar navBar barFlush user-page-navigation align-bottom">
      <div class="navEnd pad15">
        <div class="ctrlGroup js-pageCustomizationButtons js-userPageControls hide textOpacity75">
          <a class="btn btn-txt custCol-primary js-cancelCustomization"><%= polyglot.t('Cancel') %></a>
        </div>
        <div class="ctrlGroup js-pageCustomizationButtons js-userPageControls hide">
          <a class="btn btn-txt custCol-primary js-saveCustomization"><%= polyglot.t('Save') %> <%= polyglot.t('Changes') %></a>
        </div>
      </div>
    </div>
  </div>

  <div class="user-page-content">
    <div class="flexRow user-page-header-slim hide custCol-border-background shadow-inner1-ultra-light">
      <div class="rowItem positionAbsolute bottom0 width600" style="padding: 0 20px">
        <div class="thumbnail thumbnail-large pull-left js-userPageAvatar"
        style="background-image: url(<%- ob.page.avatarURL %>), url(imgs/defaultUser.png);">
        </div>
      </div>
      <div class="pull-left">
        <div class="vCentered marginLeft88">
          <h1 class="page-userNameLarge floatLeft pull-up4"><%- ob.page.profile.name %></h1>
          <div class="floatLeft marginLeft6 marginTop2"><%- ob.page.profile.handle %></div>
        </div>
      </div>
    </div>
  </div>

  <div class="flexRow shadow-inner1 user-page-header">
    <!--<form id="userPageImageForm">
      <label for="userPageImageUpload" class="btn btn-c1 btn-txt rowTop20 fullCentered js-itemCustomizationButtons"><%= polyglot.t('UploadCoverPhoto') %> (959px x 400px)</label>
      <input type="file" name="image" id="userPageImageUpload" accept="image/*" class="hide js-userPageImageUpload">
    </form>-->
    <!-- This wraps the whole cropper -->
    <div class="rowItem positionAbsolute bottom0 width600" style="padding: 0 20px">
      <div class="thumbnail thumbnail-large pull-left js-userPageAvatar"
           style="background-image: url(<%- ob.user.server_url %>get_image?hash=<%- ob.page.profile.avatar_hash %>), url(imgs/defaultUser.png);"></div>
    <div class="pull-left">
      <div class="marginLeft12 push-down5">
        <h1 class="page-userNameLarge"><%- ob.page.profile.name %></h1>
        <div class="textSize16px"><%- ob.page.profile.handle %></div>
      </div>
    </div>
  </div>
  </div>

  <div class="bar user-page-navigation-filler hidden custCol-primary" style="display: none"></div>
  <div class="bar navBar barFlush user-page-navigation custCol-secondary">
    <a class="btn btn-bar btn-tab custCol-secondary active js-aboutTab js-tab"><%= polyglot.t('About') %></a>
    <a class="btn btn-bar btn-tab custCol-secondary js-followersTab js-tab"><%= polyglot.t('Followers') %></a>
    <a class="btn btn-bar btn-tab custCol-secondary js-followingTab js-tab"><%= polyglot.t('Following') %></a>
    <% if(ob.page.profile.vendor) { %>
    <a class="btn btn-bar btn-tab custCol-secondary js-storeTab js-tab"><%= polyglot.t('Store') %></a>
    <% } %>
    <div class="navEnd pad15">
      <div class="ctrlGroup hide js-pageButtons js-userPageControls pull-up48">
        <a class="btn btn-txt custCol-primary js-sellItem">
          <span class="ion-social-bitcoin fontSize11 marginRight2 textOpacity75"></span>
          <%= polyglot.t('nav.createListing') %>
        </a>
        <a class="btn btn-txt custCol-primary js-createStore">
          <span class="ion-social-bitcoin  fontSize11 marginRight2 textOpacity75"></span>
          <%= polyglot.t('CreateStore') %>  
        </a>
      </div>
      <div class="ctrlGroup hide js-pageButtons js-userPageControls pull-up48">
        <a class="btn btn-txt custCol-primary js-customize">
          <span class="ion-paintbucket fontSize11 marginRight2 textOpacity75"></span>
          <%= polyglot.t('Customize') %> 
        </a>
      </div>
      <div class="ctrlGroup hide js-notOwnPageButtons js-userPageControls pull-up48">
        <a class="btn btn-txt custCol-primary hide js-follow">
          <span class="ion-person-add fontSize11 marginRight2 textOpacity75"></span>
          <%= polyglot.t('Follow') %> 
        </a>
        <a class="btn btn-txt custCol-primary hide js-unfollow">
          <span class="ion-eye-disabled fontSize11 marginRight2 textOpacity75"></span>
          <%= polyglot.t('Unfollow') %> 
        </a>
      </div>
      <div class="ctrlGroup hide js-notOwnPageButtons js-userPageControls pull-up48">
        <a class="btn btn-txt custCol-primary js-message">
          <span class="ion-email fontSize11 marginRight2 textOpacity75"></span>
          <%= polyglot.t('Message') %> 
        </a>
      </div>
      <div class="ctrlGroup hide js-itemButtons js-userPageControls pull-up48 hide">
        <a class="btn btn-txt custCol-primary js-editItem">
          <span class="ion-edit fontSize11 marginRight2 textOpacity75"></span>
          <%= polyglot.t('Edit') %>
        </a>
      </div>
      <div class="ctrlGroup hide js-itemButtons js-userPageControls pull-up48 hide">
        <a class="btn btn-txt custCol-primary confirmable js-deleteItem">
          <span class="preSpacer">
            <span class="ion-trash-b fontSize11 marginRight2 textOpacity75"></span>
            <%= polyglot.t('Delete') %>
          </span>
          <span class="preConfirm">
            <span class="ion-trash-b fontSize11 marginRight2 textOpacity75"></span>
            <%= polyglot.t('Delete') %>
          </span>
          <span class="postConfirm">
            <span class="ion-trash-b fontSize11 marginRight2 textOpacity75"></span>
            <%= polyglot.t('ConfirmDelete') %>
          </span>
        </a>
      </div>
      <div class="ctrlGroup hide js-itemEditButtons pull-up48 js-userPageControls hide textOpacity75">
        <a class="btn btn-txt custCol-primary js-cancelItem"><%= polyglot.t('Cancel') %></a>
      </div>
      <div class="ctrlGroup hide js-itemCustomizationButtons pull-up48 js-userPageControls hide textOpacity75">
        <a class="btn btn-txt custCol-primary js-cancelCustomization"><%= polyglot.t('Cancel') %></a>
      </div>
      <div class="ctrlGroup hide js-itemEditButtons pull-up48 js-userPageControls hide">
        <a class="btn btn-txt custCol-primary js-saveItem">
          <span class="ion-checkmark fontSize11 marginRight2 textOpacity75"></span>
          <%= polyglot.t('Save') %> <%= polyglot.t('Changes') %>
        </a>
      </div>
      <div class="ctrlGroup hide js-itemCustomizationButtons pull-up48 js-userPageControls hide">
        <a class="btn btn-txt custCol-primary js-saveCustomization">
          <span class="ion-checkmark fontSize11 marginRight2 textOpacity75"></span>
          <%= polyglot.t('Save') %> <%= polyglot.t('Changes') %>
        </a>
      </div>
    </div>
  </div>
  <div class="userPage-subViews">
    <div class="flexContainer flex-border custCol-primary js-about js-tabTarg minHeight650">
      <div class="flexRow minHeight650">
        <div class="flexCol-8 custCol-border-secondary">
          <div class="rowItem">
            <% if(ob.page.profile.about) { %>
              <%- ob.page.profile.about %>
            <%}else{%>
              <span class="textOpacity75"><%= polyglot.t('AboutEmpty') %></span>
            <%}%>
          </div>
        </div>
        <div class="flexCol-4 flex-border border0">
          <div class="flexRow">
            <div class="flexRow borderBottom custCol-border-secondary">
              <div class="rowItem">
                <div class="textOpacity75"><%= polyglot.t('Guid') %></div>
                <div class="textSize12px">
                  <%- ob.page.profile.guid %>
                </div>
              </div>
            </div>
            <div class="flexRow custCol-border-secondary">
              <div class="rowItem">
                <div class="textOpacity75"><%= polyglot.t('Website') %></div>
                <div>
                  <% if(ob.page.profile.website) { %>
                  <a href="<%- ob.page.profile.website %>" class="js-externalLink"><%- ob.page.profile.website %></a>
                  <%}else{%>
                  not provided
                  <%}%>
                </div>
              </div>
            </div>
            <div class="flexRow custCol-border-secondary">
              <div class="rowItem">
                <div class="textOpacity75"><%= polyglot.t('Email') %></div>
                <div>
                  <% if(ob.page.profile.email) { %>
                  <%- ob.page.profile.email %>
                  <%}else{%>
                  not provided
                  <%}%>
                </div>
              </div>
            </div>
            <div class="flexRow custCol-border-secondary">
              <div class="rowItem">
                <div class="textOpacity75"><%= polyglot.t('Facebook') %></div>
                <div>
                  <% if(ob.page.profile.social_accounts.facebook && ob.page.profile.social_accounts.facebook.username) { %>
                  <%- ob.page.profile.social_accounts.facebook.username %>
                  <%}else{%>
                  not provided
                  <%}%>
                </div>
              </div>
            </div>
            <div class="flexRow custCol-border-secondary">
              <div class="rowItem">
                <div class="textOpacity75"><%= polyglot.t('Instagram') %></div>
                <div>
                  <% if(ob.page.profile.social_accounts.instagram && ob.page.profile.social_accounts.instagram.username) { %>
                  <%- ob.page.profile.social_accounts.instagram.username %>
                  <%}else{%>
                  not provided
                  <%}%>
                </div>
              </div>
            </div>
            <div class="flexRow custCol-border-secondary">
              <div class="rowItem">
                <div class="textOpacity75"><%= polyglot.t('Snapchat') %></div>
                <div>
                  <% if(ob.page.profile.social_accounts.snapchat && ob.page.profile.social_accounts.snapchat.username) { %>
                  <%- ob.page.profile.social_accounts.snapchat.username %>
                  <%}else{%>
                  not provided
                  <%}%>
                </div>
              </div>
            </div>
            <div class="flexRow borderBottom custCol-border-secondary">
              <div class="rowItem">
                <div class="textOpacity75"><%= polyglot.t('PGP Key') %></div>
                <div>
                  not provided
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="flexContainer flex-border custCol-primary js-followers js-tabTarg hide minHeight650">
      <div class="flexRow">
        <div class="flexRow custCol-border-secondary">
          <div class="txtFieldWrapper txtFieldWrapper-bar searchWrapper custCol-border-primary">
            <input type="text" id="inputFollowers" class="txtField txtField-bar search custCol-border-primary" placeholder="<%= polyglot.t('SearchForFollowersPlaceholder') %>" />
          </div>
        </div>
      </div>
      <div class="flexRow js-list1">
        <div class="padding10 width100 alignCenter js-loadingMsg borderBottom">
          <i class="ion-loop spinner textSize24px textOpacity50"></i>
        </div>
      </div>
    </div>
    <div class="flexContainer flex-border custCol-primary js-following js-tabTarg hide minHeight650">
      <div class="flexRow">
        <div class="flexRow custCol-border-secondary">
          <div class="txtFieldWrapper txtFieldWrapper-bar searchWrapper">
            <input type="text" id="inputFollowing" class="txtField txtField-bar search" placeholder="<%= polyglot.t('SearchForFollowersPlaceholder') %>"  />
          </div>
        </div>
      </div>
      <div class="flexRow js-list2">
        <div class="padding10 width100 alignCenter js-loadingMsg borderBottom">
          <i class="ion-loop spinner textSize24px textOpacity50"></i>
        </div>
      </div>
    </div>
    <div class="flexContainer flex-border custCol-primary js-store js-tabTarg hide minHeight650">
      <div class="flexRow">
        <div class="flexRow custCol-border-secondary">
          <div class="txtFieldWrapper txtFieldWrapper-bar searchWrapper">
            <input type="text" id="inputStore" class="txtField txtField-bar search" placeholder="<%= polyglot.t('SearchForItemsPlaceholder') %>"  />
          </div>
        </div>
      </div>
      <div class="flexRow js-list3">
        <div class="padding10 width100 alignCenter js-loadingMsg borderBottom">
          <i class="ion-loop spinner textSize24px textOpacity50"></i>
        </div>
      </div>
    </div>
    <div class="flexContainer flex-border custCol-primary js-item js-tabTarg hide minHeight650">
      <div class="flexRow js-list4 minHeight650">
        <div class="padding10 width100 alignCenter js-loadingMsg borderBottom">
          <i class="ion-loop spinner textSize24px textOpacity50"></i>
        </div>
      </div>
    </div>
    <div class="flexContainer flex-border custCol-primary js-itemEdit js-tabTarg hide minHeight650">
      <div class="flexRow itemEdit js-list5 minHeight650 positionWrapper"></div>
    </div>
  </div>
  <div class="navBar custCol-secondary" style="padding: 4px 0"></div>
</div>

<div id="customizeControls" class="hide">
  <div class="positionWrapper">
    <label class="btn btn-square btn-corner btn-cornerTL btn-flushTL box-borderBright js-customizeColor" for="primary_color"></label>
    <div class="labelWrap row5 fade">
      <div><%= polyglot.t('PrimaryColor') %></div>
      <div><input class="js-customizeColorInput" type="text" id="primary_color" size="7"/></div>
    </div>
  </div>
  <div class="positionWrapper">
    <label class="btn btn-square btn-corner btn-cornerTL btn-flushTL box-borderBright js-customizeColor" for="secondary_color"></label>
    <div class="labelWrap row5 fade">
      <div><%= polyglot.t('SecondaryColor') %></div>
      <div><input class="js-customizeColorInput" type="text" id="secondary_color" size="7"/></div>
    </div>
  </div>
  <div class="positionWrapper">
    <label class="btn btn-square btn-corner btn-cornerTL btn-flushTL box-borderBright js-customizeColor" for="background_color"></label>
    <div class="labelWrap row5 fade">
      <div><%= polyglot.t('BackgroundColor') %></div>
      <div><input class="js-customizeColorInput" type="text" id="background_color" size="7"/></div>
    </div>
  </div>
  <div class="positionWrapper">
    <label class="btn btn-square btn-corner btn-cornerTL btn-flushTL box-borderBright js-customizeColor" for="text_color"></label>
    <div class="labelWrap row5 fade">
      <div><%= polyglot.t('TextColor') %></div>
      <div><input class="js-customizeColorInput" type="text" id="text_color" size="7"/></div>
    </div>
  </div>
</div>
<div id="modalHolder"></div>
